{"ast":null,"code":"import _regeneratorRuntime from\"/Users/arpangoel/Documents/BookingSite/client/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/arpangoel/Documents/BookingSite/client/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/arpangoel/Documents/BookingSite/client/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useContext,useState}from\"react\";import{AuthContext}from\"../../context/AuthContext.js\";import{useNavigate}from\"react-router-dom\";import\"./Login.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useContext=useContext(AuthContext),setLogin=_useContext.setLogin;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState({username:\"\",password:\"\"}),_useState4=_slicedToArray(_useState3,2),credentials=_useState4[0],setCredentials=_useState4[1];var navigate=useNavigate();var handleClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.post(\"/auth/login\",credentials);case 4:res=_context.sent;setError(false);setLogin(true);navigate(\"/\");_context.next=15;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);setError(true);setLogin(false);console.log(_context.t0);case 15:case\"end\":return _context.stop();}},_callee,null,[[1,10]]);}));return function handleClick(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"lContainer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"username\",id:\"username\",value:credentials.username,className:\"lInput\",onChange:function onChange(e){setCredentials({username:e.target.value,password:credentials.password});}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"lInput\",placeholder:\"password\",id:\"password\",value:credentials.password,onChange:function onChange(e){setCredentials({username:credentials.username,password:e.target.value});}}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,className:\"lButton\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"If not registered, then \",/*#__PURE__*/_jsx(\"a\",{href:\"/register\",children:\"Register\"})]}),error&&/*#__PURE__*/_jsx(\"p\",{children:\" Invalid entry.Please try again\"})]})});};export default Login;","map":{"version":3,"names":["axios","useContext","useState","AuthContext","useNavigate","Login","setLogin","error","setError","username","password","credentials","setCredentials","navigate","handleClick","e","preventDefault","post","res","console","log","target","value"],"sources":["/Users/arpangoel/Documents/BookingSite/client/frontend/src/pages/login/Login.jsx"],"sourcesContent":["import axios from \"axios\";\n\nimport {useContext,useState} from \"react\";\nimport {AuthContext} from \"../../context/AuthContext.js\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport \"./Login.css\";\n\nconst Login = () => {\n    const {setLogin}=useContext(AuthContext);\n    const[error,setError]=useState(false);\n  const [credentials, setCredentials] = useState({\n    username: \"\",\n    password: \"\"\n  });\n\n  \n\n  const navigate = useNavigate();\n\n  const handleClick = async (e) => {\n    e.preventDefault();\n    \n    try {\n      const res = await axios.post(\"/auth/login\", credentials);\n      setError(false);\n      setLogin(true);\n      navigate(\"/\");\n    } catch (err) {\n        setError(true);\n        setLogin(false);\n      console.log(err);\n    }\n  };\n\n  \n\n  \n\n\n  return (\n    <div className=\"login\">\n      <div className=\"lContainer\">\n        <input\n          type=\"text\"\n          placeholder=\"username\"\n          id=\"username\"\n          value={credentials.username}\n          className=\"lInput\"\n          onChange={((e)=>{\n            setCredentials({\n                username:e.target.value ,\n    password: credentials.password,\n            })\n          })}\n        />\n        <input\n          type=\"password\"\n          className=\"lInput\"\n          placeholder=\"password\"\n          id=\"password\"\n          value={credentials.password}\n          onChange={((e)=>{\n            setCredentials({\n                username:credentials.username,\n    password:e.target.value ,\n            })\n          })}\n          \n        />\n        <button onClick={handleClick}  className=\"lButton\">\n          Login \n        </button>\n      <p>If not registered, then <a href=\"/register\">Register</a></p>\n        {error && <p> Invalid entry.Please try again</p>}\n      </div>\n    </div>\n  );\n};\n\nexport default Login;"],"mappings":"obAAA,MAAOA,MAAK,KAAM,OAAO,CAEzB,OAAQC,UAAU,CAACC,QAAQ,KAAO,OAAO,CACzC,OAAQC,WAAW,KAAO,8BAA8B,CACxD,OAASC,WAAW,KAAQ,kBAAkB,CAE9C,MAAO,aAAa,CAAC,wFAErB,GAAMC,MAAK,CAAG,QAARA,MAAK,EAAS,CAChB,gBAAiBJ,UAAU,CAACE,WAAW,CAAC,CAAjCG,QAAQ,aAARA,QAAQ,CACf,cAAsBJ,QAAQ,CAAC,KAAK,CAAC,wCAA/BK,KAAK,eAACC,QAAQ,eACtB,eAAsCN,QAAQ,CAAC,CAC7CO,QAAQ,CAAE,EAAE,CACZC,QAAQ,CAAE,EACZ,CAAC,CAAC,yCAHKC,WAAW,eAAEC,cAAc,eAOlC,GAAMC,SAAQ,CAAGT,WAAW,EAAE,CAE9B,GAAMU,YAAW,4FAAG,iBAAOC,CAAC,2HAC1BA,CAAC,CAACC,cAAc,EAAE,CAAC,sCAGChB,MAAK,CAACiB,IAAI,CAAC,aAAa,CAAEN,WAAW,CAAC,QAAlDO,GAAG,eACTV,QAAQ,CAAC,KAAK,CAAC,CACfF,QAAQ,CAAC,IAAI,CAAC,CACdO,QAAQ,CAAC,GAAG,CAAC,CAAC,iFAEZL,QAAQ,CAAC,IAAI,CAAC,CACdF,QAAQ,CAAC,KAAK,CAAC,CACjBa,OAAO,CAACC,GAAG,aAAK,CAAC,oEAEpB,kBAbKN,YAAW,4CAahB,CAOD,mBACE,YAAK,SAAS,CAAC,OAAO,uBACpB,aAAK,SAAS,CAAC,YAAY,wBACzB,cACE,IAAI,CAAC,MAAM,CACX,WAAW,CAAC,UAAU,CACtB,EAAE,CAAC,UAAU,CACb,KAAK,CAAEH,WAAW,CAACF,QAAS,CAC5B,SAAS,CAAC,QAAQ,CAClB,QAAQ,CAAG,kBAACM,CAAC,CAAG,CACdH,cAAc,CAAC,CACXH,QAAQ,CAACM,CAAC,CAACM,MAAM,CAACC,KAAK,CACnCZ,QAAQ,CAAEC,WAAW,CAACD,QACd,CAAC,CAAC,CACJ,CAAG,EACH,cACF,cACE,IAAI,CAAC,UAAU,CACf,SAAS,CAAC,QAAQ,CAClB,WAAW,CAAC,UAAU,CACtB,EAAE,CAAC,UAAU,CACb,KAAK,CAAEC,WAAW,CAACD,QAAS,CAC5B,QAAQ,CAAG,kBAACK,CAAC,CAAG,CACdH,cAAc,CAAC,CACXH,QAAQ,CAACE,WAAW,CAACF,QAAQ,CACzCC,QAAQ,CAACK,CAAC,CAACM,MAAM,CAACC,KACV,CAAC,CAAC,CACJ,CAAG,EAEH,cACF,eAAQ,OAAO,CAAER,WAAY,CAAE,SAAS,CAAC,SAAS,UAAC,OAEnD,EAAS,cACX,qBAAG,0BAAwB,wBAAG,IAAI,CAAC,WAAW,UAAC,UAAQ,EAAI,GAAI,CAC5DP,KAAK,eAAI,mBAAG,iCAA+B,EAAI,GAC5C,EACF,CAEV,CAAC,CAED,cAAeF,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}