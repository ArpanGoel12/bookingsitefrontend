{"ast":null,"code":"import _slicedToArray from\"/Users/arpangoel/Documents/BookingSite/client/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./list.css\";import Navbar from\"../../components/navbar/navbar\";import Header from\"../../components/header/header\";import{useLocation}from\"react-router-dom\";import{useState}from\"react\";import{useContext}from\"react\";import{AuthContext}from\"../../context/AuthContext.js\";import{format}from\"date-fns\";import{DateRange}from\"react-date-range\";import SearchItem from\"../../components/searchItem/SearchItem\";import useFetch from\"../../hooks/useFetch\";import Login from\"../login/Login\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var List=function List(){var location=useLocation();var _useState=useState(location.state.destination),_useState2=_slicedToArray(_useState,2),destination=_useState2[0],setDestination=_useState2[1];var _useState3=useState(location.state.dates),_useState4=_slicedToArray(_useState3,2),dates=_useState4[0],setDates=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),openDate=_useState6[0],setOpenDate=_useState6[1];var _useState7=useState(location.state.options),_useState8=_slicedToArray(_useState7,2),options=_useState8[0],setOptions=_useState8[1];var _useState9=useState(undefined),_useState10=_slicedToArray(_useState9,2),min=_useState10[0],setMin=_useState10[1];var _useState11=useState(undefined),_useState12=_slicedToArray(_useState11,2),max=_useState12[0],setMax=_useState12[1];var _useFetch=useFetch(\"/hotels?city=\".concat(destination,\"&min=\").concat(min||0,\"&max=\").concat(max||999)),data=_useFetch.data,loading=_useFetch.loading,error=_useFetch.error,reFetch=_useFetch.reFetch;var handleClick=function handleClick(){reFetch();};var _useContext=useContext(AuthContext),login=_useContext.login;return/*#__PURE__*/_jsxs(\"div\",{children:[login?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"listContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"listWrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"listSearch\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"lsTitle\",children:\"Search\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"lsItem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Destination\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:destination,type:\"text\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lsItem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Options\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"lsOptions\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lsOptionItem\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"lsOptionText\",children:[\"Min price \",/*#__PURE__*/_jsx(\"small\",{children:\"per night\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:function onChange(e){return setMin(e.target.value);},className:\"lsOptionInput\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lsOptionItem\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"lsOptionText\",children:[\"Max price \",/*#__PURE__*/_jsx(\"small\",{children:\"per night\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:function onChange(e){return setMax(e.target.value);},className:\"lsOptionInput\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lsOptionItem\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"lsOptionText\",children:\"Adult\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,className:\"lsOptionInput\",placeholder:options.adult})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lsOptionItem\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"lsOptionText\",children:\"Room\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,className:\"lsOptionInput\",placeholder:options.room})]})]})]}),/*#__PURE__*/_jsx(\"button\",{children:\"Search\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"listResult\",children:loading?\"loading\":/*#__PURE__*/_jsx(_Fragment,{children:data.map(function(item){return/*#__PURE__*/_jsx(SearchItem,{item:item},item._id);})})})]})})]}):/*#__PURE__*/_jsx(Login,{}),\";\"]});};export default List;","map":{"version":3,"names":["Navbar","Header","useLocation","useState","useContext","AuthContext","format","DateRange","SearchItem","useFetch","Login","List","location","state","destination","setDestination","dates","setDates","openDate","setOpenDate","options","setOptions","undefined","min","setMin","max","setMax","data","loading","error","reFetch","handleClick","login","e","target","value","adult","room","map","item","_id"],"sources":["/Users/arpangoel/Documents/BookingSite/client/frontend/src/pages/list/list.jsx"],"sourcesContent":["import \"./list.css\";\nimport Navbar from \"../../components/navbar/navbar\";\nimport Header from \"../../components/header/header\";\nimport { useLocation } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport {useContext} from \"react\";\nimport {AuthContext} from \"../../context/AuthContext.js\";\nimport { format } from \"date-fns\";\nimport { DateRange } from \"react-date-range\";\nimport SearchItem from \"../../components/searchItem/SearchItem\";\nimport useFetch from \"../../hooks/useFetch\";\nimport Login from \"../login/Login\";\n\nconst List = () => {\n  const location = useLocation();\n  const [destination, setDestination] = useState(location.state.destination);\n  const [dates, setDates] = useState(location.state.dates);\n  const [openDate, setOpenDate] = useState(false);\n  const [options, setOptions] = useState(location.state.options);\n  const [min, setMin] = useState(undefined);\n  const [max, setMax] = useState(undefined);\n  const { data, loading, error, reFetch } = useFetch(\n    `/hotels?city=${destination}&min=${min || 0 }&max=${max || 999}`\n  );\n\n  const handleClick = () => {\n    reFetch();\n  };\n  const {login}= useContext(AuthContext);\n\n  return (\n   \n    <div>\n         {login ? \n        <>\n      <Navbar />\n      <Header/>\n      <div className=\"listContainer\">\n        <div className=\"listWrapper\">\n          <div className=\"listSearch\">\n            <h1 className=\"lsTitle\">Search</h1>\n            <div className=\"lsItem\">\n              <label>Destination</label>\n              <input placeholder={destination} type=\"text\" />\n            </div>\n            \n\n\n\n            <div className=\"lsItem\">\n              <label>Options</label>\n              <div className=\"lsOptions\">\n                <div className=\"lsOptionItem\">\n                  <span className=\"lsOptionText\">\n                    Min price <small>per night</small>\n                  </span>\n                  <input\n                    type=\"number\"\n                    onChange={(e) => setMin(e.target.value)}\n                    className=\"lsOptionInput\"\n                  />\n                </div>\n                <div className=\"lsOptionItem\">\n                  <span className=\"lsOptionText\">\n                    Max price <small>per night</small>\n                  </span>\n                  <input\n                    type=\"number\"\n                    onChange={(e) => setMax(e.target.value)}\n                    className=\"lsOptionInput\"\n                  />\n                </div>\n                <div className=\"lsOptionItem\">\n                  <span className=\"lsOptionText\">Adult</span>\n                  <input\n                    type=\"number\"\n                    min={1}\n                    className=\"lsOptionInput\"\n                    placeholder={options.adult}\n                  />\n                </div>\n                \n                <div className=\"lsOptionItem\">\n                  <span className=\"lsOptionText\">Room</span>\n                  <input\n                    type=\"number\"\n                    min={1}\n                    className=\"lsOptionInput\"\n                    placeholder={options.room}\n                  />\n                </div>\n              </div>\n            </div>\n            <button >Search</button>\n          </div>\n         \n\n          <div className=\"listResult\">\n             \n          {loading ? (\n              \"loading\"\n            ) : (\n              <>\n                {data.map((item) => (\n                  <SearchItem item={item} key={item._id} />\n                ))}\n              </>\n            )}\n          </div>\n\n\n        </div>\n      </div>\n      </>\n      \n      : <Login />};\n    </div>)\n  \n \n};\n\nexport default List;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}